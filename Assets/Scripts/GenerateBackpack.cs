using System.Collections.Generic;
using System.IO;
using System.Linq;
using UnityEngine;

public class GenerateBackpack : MonoBehaviour
{
    private BackpackData backpackData;

    private GameObject[] prefabs;
    public List<GameObject> generateItems;

    public EnemyData enemy;
    public void LoadChestItems(string tagName)
    {
        if (prefabs == null)
        {
            prefabs = Resources.LoadAll<GameObject>("");
        }
        generateItems.AddRange(prefabs.Where(e => e.tag.ToUpper() == tagName).ToList());
    }

    public void GenerateEnemy(int lvl)
    {
        int random = 0;
        switch (lvl)
        {
            case 1:
                switch (PlayerPrefs.GetString("enemyName"))
                {
                    case "Fanatik(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                    case "Fallen Knight(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                    case "Goblin(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                }
                break;
            case 2:
                switch (PlayerPrefs.GetString("enemyName"))
                {
                    case "Fanatik(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                    case "Fallen Knight(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                    case "Goblin(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                }
                break;
            case 3:
                switch (PlayerPrefs.GetString("enemyName"))
                {
                    case "Fanatik(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                    case "Fallen Knight(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                    case "Goblin(Clone)":
                        random = Random.Range(1, 4);
                        switch (random)
                        {
                            case 1:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-3.84002685546875,\"y\":-122.88605499267578,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-132.12786865234376,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":-132.12786865234376,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"ManaBoots1\",\"position\":{\"x\":-88.32000732421875,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":-44.8699951171875,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireDagger1\",\"position\":{\"x\":-172.79998779296876,\"y\":-203.40631103515626,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"ManaAmulet1\",\"position\":{\"x\":-172.79998779296876,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}}]}"
                                                        , lvl);
                                break;
                            case 2:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                        , lvl);
                                break;
                            case 3:
                                enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                        , lvl);
                                break;
                        }
                        break;
                }
                break;
            case 10:
                random = 1;// Random.Range(3, 4);
                switch (random)
                {
                    case 1:
                        enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":-47.64788818359375,\"y\":79.631103515625,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":118.121337890625,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-42.550262451171878,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":36.83209228515625,\"y\":-161.37631225585938,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-42.550262451171878,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":290.2720642089844,\"y\":79.631103515625,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare1x1\",\"position\":{\"x\":165.1199951171875,\"y\":-161.80010986328126,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare1x1\",\"position\":{\"x\":165.1199951171875,\"y\":-242.1358642578125,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":290.2720642089844,\"y\":-42.550262451171878,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":290.2720642089844,\"y\":-161.37631225585938,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare1x1\",\"position\":{\"x\":249.5999755859375,\"y\":-242.1358642578125,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare1x1\",\"position\":{\"x\":334.0799865722656,\"y\":-242.1358642578125,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Sling\",\"position\":{\"x\":164.72003173828126,\"y\":-38.20469665527344,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MagicWand\",\"position\":{\"x\":333.8799743652344,\"y\":-41.3046875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"GauntletBoots\",\"position\":{\"x\":164.72003173828126,\"y\":-198.87632751464845,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"VampireBoots1\",\"position\":{\"x\":249.5999755859375,\"y\":-203.35116577148438,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MagicWand\",\"position\":{\"x\":249.39996337890626,\"y\":-41.30470275878906,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"WitchPotSmall\",\"position\":{\"x\":333.8799743652344,\"y\":-201.976318359375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"HiddenDagger\",\"position\":{\"x\":118.1400146484375,\"y\":79.23110961914063,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"Broom\",\"position\":{\"x\":-10.1300048828125,\"y\":4.6952972412109379,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}},{\"name\":\"Spear\",\"position\":{\"x\":-5.52001953125,\"y\":-81.04047393798828,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":-1.0,\"w\":4.371138828673793e-8}}]}"
                                                , lvl);
                        break;
                    case 2:
                        enemy = new EnemyData("{\"items\":[{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-0.704681396484375,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagRare2x1\",\"position\":{\"x\":121.31207275390625,\"y\":-81.04047393798828,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-0.7046966552734375,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"FireHelmet1\",\"position\":{\"x\":124.08999633789063,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":8.429370268459025e-8,\"w\":1.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":165.1199951171875,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}},{\"name\":\"VampireGloves1\",\"position\":{\"x\":80.63998413085938,\"y\":-123.07049560546875,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":1.0,\"w\":0.0}}]}"
                                                , lvl);
                        break;
                    case 3:
                        enemy = new EnemyData("{\"items\":[{\"name\":\"bagCommon2x2\",\"position\":{\"x\":-47.64788818359375,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"bagCommon2x2\",\"position\":{\"x\":121.31207275390625,\"y\":-203.22189331054688,\"z\":-1.00030517578125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomChanterelle\",\"position\":{\"x\":165.1199951171875,\"y\":-161.37631225585938,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-161.3762969970703,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"Dagger\",\"position\":{\"x\":-44.8699951171875,\"y\":-241.7121124267578,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0}},{\"name\":\"MushroomRussula\",\"position\":{\"x\":117.239990234375,\"y\":-241.7120819091797,\"z\":-1.999786376953125},\"rotation\":{\"x\":0.0,\"y\":0.0,\"z\":0.7071068286895752,\"w\":0.7071068286895752}}]}"
                                                , lvl);
                        break;
                }
                break;
        }

        
    }



    void Start()
    {
        Time.timeScale = 1f;
        backpackData = GetComponent<BackpackData>();

        switch (gameObject.name)
        {
            case "backpack":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "backpackData.json"));
                break;
            case "Storage":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "storageData.json"));
                break;
            case "CaveStone":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "caveStoneData.json"));
                break;
            case "warehouse1":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "backpackWarehouse1.json"));
                break;
            case "warehouse2":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "backpackWarehouse2.json"));
                break;
            case "warehouse3":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "backpackWarehouse3.json"));
                break;
            case "warehouse4":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "backpackWarehouse4.json"));
                break;
            case "warehouse5":
                backpackData.LoadData(Path.Combine(PlayerPrefs.GetString("savePath"), "backpackWarehouse5.json"));
                break;
            case "backpackEnemy":
                GenerateEnemy(PlayerPrefs.GetInt("enemyLvl"));
                getEnemy(1);
                break;

        }

        LoadChestItems("RAREWEAPON");
        LoadChestItems("STARTBAG");
        LoadChestItems("BAG");
        LoadChestItems("BLOCKMANAITEM");


        GenerationBackpack();
    }

    int getEnemy(int lvl)
    {
        int r = 0;
        r = 1;//Random.Range(1, 2);//toDo 20
        backpackData.LoadDataEnemy(enemy.jsonBackpack);
        return 0;
    }
    void Generation(GameObject generationObject, Vector3 place, Quaternion rotation)//уволен
    {
        var generationObjectItem = Instantiate(generationObject, place, rotation, gameObject.transform);
        for (int i = 0; i < generationObject.transform.childCount; i++)
        {
            generationObjectItem.transform.GetChild(i).gameObject.name = generationObjectItem.transform.GetChild(i).gameObject.name + Random.Range(0, 10000);
        }
        generationObjectItem.name = generationObject.name + Random.Range(0, 10000);

        var componentItem = generationObjectItem.GetComponent<Item>();
        var componentBag = generationObjectItem.GetComponent<Bag>();
        componentItem.prefabOriginalName = generationObject.name;

        generationObjectItem.transform.SetParent(GetComponent<RectTransform>());
        generationObjectItem.transform.localPosition = place;
        //var z = GameObject.Find("backpack");
        componentItem.hits = new List<HitsStructure>();
        Physics2D.SyncTransforms();
        if (componentItem.prefabOriginalName.ToUpper().Contains("BAG"))
        {
            componentBag.RaycastEvent();
            componentBag.SetNestedObject();
            componentBag.updateColorCells();
            gameObject.transform.SetAsFirstSibling();
        }
        else
        {
            componentItem.hitsForBackpack = new List<RaycastHit2D>();
            componentItem.RaycastEvent();
            componentItem.updateColorCells();
            if (componentItem.CorrectEndPoint() && ObjectInBag(componentItem))
                componentItem.SetNestedObject();
            componentItem.ChangeColorToDefault();
        }
        //generationObjectItem.GetComponent<Bag>().SetNestedObject();
        //generationObjectItem.GetComponent<Item>().RaycastEvent();
        if(generationObjectItem.transform.parent.name == "Storage")
        {
            componentItem.needToDynamic = true;
            componentItem.Impulse = true;
            //componentItem.MoveObjectOnEndDrag();
            //componentBag.MoveObjectOnEndDrag();
        }
        else
        {
            componentItem.rb.excludeLayers = (1 << 9) | (1 << 10);
        }

    }
    public void GenerationBackpack()
    {
        if (backpackData.itemData.items.Count != 0)
        {
            foreach (var item in backpackData.itemData.items)
            {
                foreach (var generateItem in generateItems)
                {
                    if (generateItem.name == item.name)
                    {
                        Generation(generateItem, item.position, item.rotation);
                    }
                }
                
            }
        }
    }

    public bool ObjectInBag(Item item)
    {
        var rect = gameObject.GetComponent<RectTransform>().rect;
        if (item.transform.localPosition.x > rect.max.x || item.transform.localPosition.y > rect.max.y || item.transform.localPosition.x < rect.min.x || item.transform.localPosition.y < rect.min.y)
        {
            return false;
        }
        else
            return true;
    }

}
